bundle:
  name: genesis_workbench_esmfold
  databricks_cli_version: ">=0.236.*"

include:
  - variables.yml
  - resources/*.yml
    
artifacts:
  esmfold:
    type: whl
    build: poetry build
    path: ./dist

targets:
  dev:
    mode: development
    default: true
    workspace:
      root_path: ${var.current_working_directory}
      host: https://adb-830292400663869.9.azuredatabricks.net
    permissions:
      - user_name: ${var.current_user}
        level: CAN_MANAGE

  prod:
    mode: production
    workspace:
      host: https://adb-830292400663869.9.azuredatabricks.net
      root_path: ${var.current_working_directory}
    permissions:
      - user_name: ${var.current_user}
        level: CAN_MANAGE
    run_as:
      user_name: ${var.current_user}